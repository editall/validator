(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.validator={}))})(this,function(n){"use strict";class r{isOk;value;message;constructor(t=!1,i=null,o=""){this.isOk=t,this.value=i,this.message=o}}let c="invalid";const u=new r;class d{static set defaultMessage(t){c=t}defaultMessage="";message(t){return(t||this.defaultMessage)??c}check(t,i){return u}}const h=s=>parseFloat(""+s),f=s=>parseInt(""+s),p=s=>Boolean(s),g=s=>""+s,m=s=>typeof s=="number"?s:e.FALSE,A=s=>typeof s=="string"?s:e.FALSE,L=s=>typeof s=="boolean"?s:e.FALSE,S=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)$/,y=s=>typeof s=="string"&&S.test(s)?s:e.FALSE,E=/^https?:\/\/[a-zA-Z0-9.-]+(?:\.+[A-Za-z]{2,4})+(?::\d{2,4})?/,b=s=>typeof s=="string"&&E.test(s)?s:e.FALSE,F=/^[0-9a-zA-Z-_.]+@[0-9a-zA-Z-.]+(?:[.]+[A-Za-z]{2,4})+$/,R=s=>typeof s=="string"&&F.test(s)?s:e.FALSE,M=s=>typeof s=="string"?s.trim():e.FALSE;class z{ruleList=[];#t(t,i){this.ruleList.push([t,i])}rule(t,i){this.#t(t,i)}convertNumber(t){this.#t(h,t)}convertInt(t){this.#t(f,t)}convertBool(t){this.#t(p,t)}convertString(t){this.#t(g,t)}isNumber(t){this.#t(m,t)}isBool(t){this.#t(L,t)}isString(t){this.#t(A,t)}ip(t){this.#t(y,t)}url(t){this.#t(b,t)}email(t){this.#t(R,t)}trim(t){this.#t(M,t)}}const I=(s,t)=>s;class e extends d{static FALSE=Object.freeze({});#t;#s=[];constructor(t,i="",o=I){super(),this.defaultMessage=i,this.#t=o,t(a=>{const l=new z;a(l),this.#s.push(l)})}check(t,i){let o,a="";const l=this.#s.some(k=>(o=t,k.ruleList.every(([B,O])=>(o=B(o,i),o===e.FALSE?(a=O+"",!1):!0))));return new r(l,o,l?"":this.#t(this.message(a),t))}}n.RuleValidator=e,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
